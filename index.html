<head>

    <script
        src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.js"></script>
    
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <link rel="stylesheet"
        href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
        crossorigin="anonymous">

    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.0.1/mustache.js"></script>
</head>
<body>

    <div id="repros"></div>

    <script>
$(document).ready(function () {
    
    console.log(qs('sha'))
    if(qs('sha') == null)
    {
        
        NavBase()
    }else
    {
        Nav(qs('sha'))
    }
    
});


function NavBase()
{
    var api = "https://api.github.com/repos/Microshak/MicroNotes/git/refs/heads/master";
    $.get(api, function (data) {
        console.log(data)
        var sha = data.object.sha
        console.log(sha)
        Nav(sha)
    })
}

function Nav(sha)
{
    
   // var sha = qs('sha') || "a350a86994417e39c4488be8514901f24757e2a5"
    var path = qs('path') || ""

    
    
    var api = "https://api.github.com/repos/Microshak/MicroNotes/git/trees/" + sha;
    $.get(api, function (data) {
        $.each(data.tree, function (idx, obj) {
        
                
                if(obj.type =="blob")
                {
                    var template = $('#file').html();
                            if(obj.path.endsWith('md'))
                            {
                                obj.fpath =   path + "/" +obj.path.replace('.md','') 
                                obj.pp = obj.path.replace('.md','')
                    var html = Mustache.to_html(template, obj);
                    $('#butt').append(html);

                            }
                            
                }
                else{
                                var template = $('#folder').html();
                                obj.spath =  path  + "/" + obj.path
                                if(obj.spath.startsWith('/'))
                                    obj.spath = obj.spath.substring(1,obj.spath.length + 2) 
                                
                                    console.log(path)

                                    var html = Mustache.to_html(template, obj);

                    $('#butt').append(html);

                }

        
        
        
        
        });
    });


}


        function qs(key) {
            key = key.replace(/[*+?^$.\[\]{}()|\\\/]/g, "\\$&"); // escape RegEx control chars
            var match = location.search.match(new RegExp("[?&]" + key + "=([^&]+)(&|$)"));
            return match && decodeURIComponent(match[1].replace(/\+/g, " "));
        }


</script>
    <section class="after-loop">
        <div class="container">
            <div class="row" id="butt">





            </div>
        </div>
    </section>



    <script id="folder" type="text/template">
        
        <a class="btn btn-primary" href="./index.html?sha={{sha}}&path={{spath}}" role="button"><i class="fas fa-folder"></i>{{path}}</a>

</script>


    <script id="file" type="text/template">

        <a class="btn btn-secondary" href="https://microshak.github.io/MicroNotes/Notes.html?path={{fpath}}" role="button"><i class="fas fa-file"></i>{{pp}}</a>



</script>






























    <style>



</style>




https://api.github.com/search/code?q=flask+in:file+language:md+repo:microshak/micronotes


</body>
