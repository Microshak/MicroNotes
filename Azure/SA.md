# Stream Analytics
* Input (Stream)
* Reference Data (Blob, SQL)
* SQL Query 
* Output
---

# Function
* ML
* UDF (User Defined Function)
* UDA (User Defined Aggregates)

---

# Geospacial
* Geo fencing (Polygon)
* Line 
* Point
* Geospatial Aggregations
* Distance
* Overlaps
* Intersects
* Within

---

# Windowing
* Tumbling
* Hopping
* Sliding
* Session

---
# Tumbling
![full](https://microshak.github.io/MicroNotes/Images/IoTRef/Tumbeling.png)


---
# Hopping
![full](https://microshak.github.io/MicroNotes/Images/IoTRef/Hopping.png)

---
# Sliding
![full](https://microshak.github.io/MicroNotes/Images/IoTRef/slide.png)

---

# Query Types
* CTE (Common Table Expressions)
* [Nested Data](https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-parsing-json)

---

# Time Handling
* Early Arrival
* Out of order tolerance
* Watermark delay

---

# Error Policy
  * Retry
  * Drop

---

# Scale
* Increase Streaming Units
* Make [Embarrassingly Parallel](https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-parallelization) Jobs

---

# Built in Functions
* Anomaly Detection
  * Spike and Dip
  * Change Point
* LAG
* LAST

