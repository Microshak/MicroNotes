<head>
   <script src="https://unpkg.com/mermaid@8.4.8/dist/mermaid.js"></script>
    
 
   <script>

var config = {
    startOnLoad:false,
    flowchart:{
      useMaxWidth:true,
      htmlLabels:true,
      curve:'cardinal',
      fontSize:'40px',
    },

    securityLevel:'loose',
  };

function myFunction(){

  mermaid.initialize(config);
  
  var output = document.getElementById("output");
  var txt = document.getElementById("mer").value
  console.log(txt)
  mermaid.render('thegraph', txt,function(svgCode) {
        output.innerHTML = svgCode;
    }); 
}
   </script>
    
</head>
<body onload="myFunction()">
  <h1>Im an Iframe</h1>
  <textarea class="mer" id="mer" cols="30" rows="10">
  
  graph LR
      A[IoT Device]--- B[IoTHub]
      A---B
      A---B
      B-->C[Function App]
      C-->D[Table Store]
      D-->F[Web App]
      C-->E[Blob Storage];
      
</textarea>
<div id="output"></div>
</div>
</body>